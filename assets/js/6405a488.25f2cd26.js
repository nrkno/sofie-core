"use strict";(self.webpackChunksofie_documentation=self.webpackChunksofie_documentation||[]).push([[2087],{65018:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>a,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var n=s(62540),i=s(43023);const l={sidebar_position:1},r="Sofie Core: System Configuration",d={id:"user-guide/configuration/sofie-core-settings",title:"Sofie Core: System Configuration",description:"Sofie&nbsp;Core is configured at it's most basic level using a settings file and environment variables.",source:"@site/versioned_docs/version-1.41.0/user-guide/configuration/sofie-core-settings.md",sourceDirName:"user-guide/configuration",slug:"/user-guide/configuration/sofie-core-settings",permalink:"/sofie-core/docs/1.41.0/user-guide/configuration/sofie-core-settings",draft:!1,unlisted:!1,editUrl:"https://github.com/nrkno/sofie-core/edit/master/packages/documentation/versioned_docs/version-1.41.0/user-guide/configuration/sofie-core-settings.md",tags:[],version:"1.41.0",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"userGuide",previous:{title:"Concepts & Architecture",permalink:"/sofie-core/docs/1.41.0/user-guide/concepts-and-architecture"},next:{title:"Settings View",permalink:"/sofie-core/docs/1.41.0/user-guide/configuration/settings-view"}},o={},c=[{value:"Environment Variables",id:"environment-variables",level:3},{value:"Settings File",id:"settings-file",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"sofie-core-system-configuration",children:"Sofie Core: System Configuration"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.em,{children:"Sofie\xa0Core"})," is configured at it's most basic level using a settings file and environment variables."]}),"\n",(0,n.jsx)(t.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Setting"}),(0,n.jsx)("th",{children:"Use"}),(0,n.jsx)("th",{children:"Default value"}),(0,n.jsx)("th",{children:"Example"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"METEOR_SETTINGS"})}),(0,n.jsx)("td",{children:"Contents of settings file (see below)"}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"$(cat settings.json)"})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"NTP_SERVERS"})}),(0,n.jsx)("td",{children:"List of time servers to sync the system to (comma separated)."}),(0,n.jsxs)("td",{children:[(0,n.jsx)(t.p,{children:"0.pool.ntp.org,"}),(0,n.jsx)("br",{}),(0,n.jsx)(t.p,{children:"1.pool.ntp.org,"}),(0,n.jsx)("br",{}),(0,n.jsx)(t.p,{children:"2.pool.ntp.org"})]}),(0,n.jsx)("td",{})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"TZ"})}),(0,n.jsx)("td",{children:"The default time zone of the server (used in logging)"}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"Europe/Amsterdam"})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"MAIL_URL"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(t.p,{children:["Email server to use. See"," ","\n",(0,n.jsx)("a",{href:"https://docs.meteor.com/api/email.html",children:(0,n.jsx)(t.a,{href:"https://docs.meteor.com/api/email.html",children:"https://docs.meteor.com/api/email.html"})})]})}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:(0,n.jsxs)("code",{children:["smtps://USERNAME",":PASSWORD","@HOST",":PORT"]})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"LOG_TO_FILE"})}),(0,n.jsx)("td",{children:"File path to log to file"}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"/logs/core/"})})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"settings-file",children:"Settings File"}),"\n",(0,n.jsxs)(t.p,{children:["The settings file is an optional JSON file that contains some configuration settings for how the ",(0,n.jsx)(t.em,{children:"Sofie\xa0Core"})," works and behaves."]}),"\n",(0,n.jsx)(t.p,{children:"To use a settings file:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["During development: ",(0,n.jsx)(t.code,{children:"meteor --settings settings.json"})]}),"\n",(0,n.jsx)(t.li,{children:"During prod: environment variable (see above)"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"The structure of the file allows for public and private fields. At the moment, Sofie only uses public fields. Below is an example settings file:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-text",children:'{\n    "public": {\n        "frameRate": 25\n    }\n}\n'})}),"\n",(0,n.jsx)(t.p,{children:"There are various settings you can set for an installation. See the list below:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"Field name"})}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Use"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Default value"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"frameRate"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The framerate used to display time-codes in the GUI"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"25"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"defaultToCollapsedSegments"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Should all segments be collapsed by default, until the user expands them"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"false"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"autoRewindLeavingSegment"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Should segments be automatically rewound after they stop playing"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"false"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"autoExpandCurrentNextSegment"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Should the segments be expanded when they are On Air or Next, useful with ",(0,n.jsx)(t.code,{children:"defaultToCollapsedSegments"})]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"false"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"disableBlurBorder"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Should a border be displayed around the Rundown View when it's not in focus and studio mode is enabled"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"false"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"defaultTimeScale"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"An arbitrary number, defining the default zoom factor of the Timelines"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"1"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"allowGrabbingTimeline"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Can Segment Timelines be grabbed to scroll them?"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"true"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"enableUserAccounts"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Enables User Accounts and Authentication. If disabled, all user stations will be treated as a single, anonymous user"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"false"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"allowUnsyncedSegments"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Switches behavior between unsyncing entire Rundowns or just Segments"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"false"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"allowRundownResetOnAir"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Should the user be allowed to reset Rundowns when they are On Air"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"false"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"defaultDisplayDuration"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The fallback duration of a Part, when it's expectedDuration is 0. __In milliseconds"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"3000"})})]})]})]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["The exact definition for the settings can be found ",(0,n.jsx)(t.a,{href:"https://github.com/nrkno/sofie-core/blob/master/meteor/lib/Settings.ts#L12",children:"in the code here"}),"."]})})]})}function a(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},43023:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>d});var n=s(63696);const i={},l=n.createContext(i);function r(e){const t=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);