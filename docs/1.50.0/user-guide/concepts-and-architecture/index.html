<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.50.0 docs-doc-page docs-doc-id-user-guide/concepts-and-architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Concepts &amp; Architecture | Sofie TV Automation Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nrkno.github.io/sofie-core/img/pilot_fredag-05.jpg"><meta data-rh="true" name="twitter:image" content="https://nrkno.github.io/sofie-core/img/pilot_fredag-05.jpg"><meta data-rh="true" property="og:url" content="https://nrkno.github.io/sofie-core/docs/1.50.0/user-guide/concepts-and-architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.50.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.50.0"><meta data-rh="true" name="docsearch:version" content="1.50.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.50.0"><meta data-rh="true" property="og:title" content="Concepts &amp; Architecture | Sofie TV Automation Documentation"><meta data-rh="true" name="description" content="System Architecture"><meta data-rh="true" property="og:description" content="System Architecture"><link data-rh="true" rel="icon" href="/sofie-core/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nrkno.github.io/sofie-core/docs/1.50.0/user-guide/concepts-and-architecture"><link data-rh="true" rel="alternate" href="https://nrkno.github.io/sofie-core/docs/1.50.0/user-guide/concepts-and-architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://nrkno.github.io/sofie-core/docs/1.50.0/user-guide/concepts-and-architecture" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://0J21XARTCE-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Sofie TV Automation Documentation" href="/sofie-core/opensearch.xml"><link rel="stylesheet" href="/sofie-core/assets/css/styles.6fc8b6c1.css">
<script src="/sofie-core/assets/js/runtime~main.812de1c7.js" defer="defer"></script>
<script src="/sofie-core/assets/js/main.8d01e2e2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sofie-core/"><div class="navbar__logo"><img src="/sofie-core/img/sofie-logo.svg" alt="Sofie Logo" class="themedComponent_siVc themedComponent--light_hHel"><img src="/sofie-core/img/sofie-logo.svg" alt="Sofie Logo" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">Sofie TV Automation</b></a><a class="navbar__item navbar__link" href="/sofie-core/docs/user-guide/intro">User Guide</a><a class="navbar__item navbar__link" href="/sofie-core/docs/for-developers/intro">For Developers</a><a class="navbar__item navbar__link" href="/sofie-core/releases">Releases</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/sofie-core/docs/1.50.0/user-guide/intro">1.50.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sofie-core/docs/user-guide/concepts-and-architecture">Latest</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/sofie-core/docs/1.50.0/user-guide/concepts-and-architecture">1.50.0</a></li><li><a class="dropdown__link" href="/sofie-core/docs/1.49.0/user-guide/concepts-and-architecture">1.49.0</a></li><li><a class="dropdown__link" href="/sofie-core/docs/1.47.0/user-guide/concepts-and-architecture">1.47.0</a></li><li><a class="dropdown__link" href="/sofie-core/docs/1.46.0/user-guide/concepts-and-architecture">1.46.0</a></li><li><a class="dropdown__link" href="/sofie-core/docs/1.41.0/user-guide/concepts-and-architecture">1.41.0</a></li><li><a class="dropdown__link" href="/sofie-core/docs/1.38.0/user-guide/concepts-and-architecture">1.38.0</a></li><li><a class="dropdown__link" href="/sofie-core/docs/1.37.0/user-guide/concepts-and-architecture">1.37.0</a></li></ul></div><a href="https://github.com/nrkno/sofie-core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sofie-core/docs/1.50.0/user-guide/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/sofie-core/docs/1.50.0/user-guide/concepts-and-architecture">Concepts &amp; Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sofie-core/docs/1.50.0/user-guide/supported-devices">Supported Playout Devices</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/sofie-core/docs/1.50.0/user-guide/features/sofie-views">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/sofie-core/docs/1.50.0/user-guide/installation/intro">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/sofie-core/docs/1.50.0/user-guide/configuration/sofie-core-settings">Configuration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sofie-core/docs/1.50.0/user-guide/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sofie-core/docs/1.50.0/user-guide/further-reading">Further Reading</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_oTwn"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_pMEX"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Sofie TV Automation Documentation<!-- --> <b>1.50.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/sofie-core/docs/user-guide/concepts-and-architecture">latest version</a></b> (<!-- -->Latest<!-- -->).</div></div><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sofie-core/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Concepts &amp; Architecture</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.50.0</span><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Concepts &amp; Architecture</h1>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="system-architecture">System Architecture<a href="#system-architecture" class="hash-link" aria-label="Direct link to System Architecture" title="Direct link to System Architecture">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Example of a Sofie setup with a Playout Gateway and a Spreadsheet Gateway" src="/sofie-core/assets/images/playout-and-spreadsheet-example-b12546e2be214cfc445edd06b67e9633.png" width="827" height="761" class="img_SS3x"></p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="sofie-core">Sofie Core<a href="#sofie-core" class="hash-link" aria-label="Direct link to Sofie Core" title="Direct link to Sofie Core">​</a></h3>
<p><strong>Sofie Core</strong> is a web server which handle business logic and serves the web GUI.<br>
<!-- -->It is a <a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">NodeJS</a> process backed up by a <a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB</a> database and based on the framework <a href="http://meteor.com/" target="_blank" rel="noopener noreferrer">Meteor</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="gateways">Gateways<a href="#gateways" class="hash-link" aria-label="Direct link to Gateways" title="Direct link to Gateways">​</a></h3>
<p>Gateways are applications that connect to Sofie Core and and exchanges data; such as rundown data from an NRCS or the <a href="#timeline">Timeline</a> for playout.</p>
<p>An examples of a gateways is the <a href="https://github.com/SuperFlyTV/spreadsheet-gateway" target="_blank" rel="noopener noreferrer">Spreadsheet Gateway</a>.<br>
<!-- -->All gateways use the <a href="https://github.com/nrkno/sofie-core/tree/master/packages/server-core-integration" target="_blank" rel="noopener noreferrer">Core Integration Library</a> to communicate with Core.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="system-organization-studio--show-style">System, (Organization), Studio &amp; Show Style<a href="#system-organization-studio--show-style" class="hash-link" aria-label="Direct link to System, (Organization), Studio &amp; Show Style" title="Direct link to System, (Organization), Studio &amp; Show Style">​</a></h2>
<p>To be able to facilitate various workflows and to Here&#x27;s a short explanation about the differences between the &quot;System&quot;, &quot;Organization&quot;, &quot;Studio&quot; and &quot;Show Style&quot;.</p>
<ul>
<li>The <strong>System</strong> defines the whole of the Sofie Core</li>
<li>The <strong>Organization</strong> (only available if user accounts are enabled) defines things that are common for an organization. An organization consists of: <strong>Users, Studios</strong> and <strong>ShowStyles</strong>.</li>
<li>The <strong>Studio</strong> contains things that are related to the &quot;hardware&quot; or &quot;rig&quot;. Technically, a Studio is defined as an entity that can have one (or none) rundown active at any given time. In most cases, this will be a representation of your gallery, with cameras, video playback and graphics systems, external inputs, sound mixers, lighting controls and so on. A single System can easily control multiple Studios.</li>
<li>The <strong>Show Style</strong> contains settings for the &quot;show&quot;, for example if there&#x27;s a &quot;Morning Show&quot; and an &quot;Afternoon Show&quot; - produced in the same gallery - they might be two different Show Styles (played in the same Studio). Most importantly, the Show Style decides the &quot;look and feel&quot; of the Show towards the producer/director, dictating how data ingested from the NRCS will be interpreted and how the user will interact with the system during playback (see: <a href="/sofie-core/docs/1.50.0/configuration/settings-view#show-style">Show Style</a> in Settings).<!-- -->
<ul>
<li>A <strong>Show Style Variant</strong> is a set of Show Style <em>Blueprint</em> configuration values, that allows to use the same interaction model across multiple Shows with potentially different assets, changing the outward look of the Show: for example news programs with different hosts produced from the same Studio, but with different light setups, backscreen and overlay graphics.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Sofie Architecture Venn Diagram" src="/sofie-core/assets/images/sofie-venn-diagram-f65669f7bddbd15ccd14d007227ab776.png" width="554" height="559" class="img_SS3x"></p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="playlists-rundowns-segments-parts-pieces">Playlists, Rundowns, Segments, Parts, Pieces<a href="#playlists-rundowns-segments-parts-pieces" class="hash-link" aria-label="Direct link to Playlists, Rundowns, Segments, Parts, Pieces" title="Direct link to Playlists, Rundowns, Segments, Parts, Pieces">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Playlists, Rundowns, Segments, Parts, Pieces" src="/sofie-core/assets/images/playlist-rundown-segment-part-piece-7bbb83383039ace050bf391947d91725.png" width="2391" height="1713" class="img_SS3x"></p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="playlist">Playlist<a href="#playlist" class="hash-link" aria-label="Direct link to Playlist" title="Direct link to Playlist">​</a></h3>
<p>A Playlist (or &quot;Rundown Playlist&quot;) is the entity that &quot;goes on air&quot; and controls the playhead/Take Point.</p>
<p>It contains one or several Rundowns inside, which are playout out in order.</p>
<div class="theme-admonition theme-admonition-info admonition_WCGJ alert alert--info"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_pbrs"><p>In some many studios, there is only ever one rundown in a playlist. In those cases, we sometimes lazily refer to playlists and rundowns as &quot;being the same thing&quot;.</p></div></div>
<p>A Playlist is played out in the context of it&#x27;s <a href="#studio">Studio</a>, thereby only a single Playlist can be active at a time within each Studio.</p>
<p>A playlist is normally played through and then ends but it is also possible to make looping playlists in which case the playlist will start over from the top after the last part has been played.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="rundown">Rundown<a href="#rundown" class="hash-link" aria-label="Direct link to Rundown" title="Direct link to Rundown">​</a></h3>
<p>The Rundown contains the content for a show. It contains Segments and Parts, which can be selected by the user to be played out.<br>
<!-- -->A Rundown always has a <a href="#showstyle">showstyle</a> and is played out in the context of the <a href="#studio">Studio</a> of its Playlist.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="segment">Segment<a href="#segment" class="hash-link" aria-label="Direct link to Segment" title="Direct link to Segment">​</a></h3>
<p>The Segment is the horizontal line in the GUI. It is intended to be used as a &quot;chapter&quot; or &quot;subject&quot; in a rundown, where each individual playable element in the Segment is called a <a href="#part">Part</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="part">Part<a href="#part" class="hash-link" aria-label="Direct link to Part" title="Direct link to Part">​</a></h3>
<p>The Part is the playable element inside of a <a href="#segment">Segment</a>. This is the thing that starts playing when the user does a <a href="#take-point">TAKE</a>. A Playing part is <em>On Air</em> or <em>current</em>, while the part &quot;cued&quot; to be played is <em>Next</em>.
The Part in itself doesn&#x27;t determine what&#x27;s going to happen, that&#x27;s handled by the <a href="#piece">Pieces</a> in it.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="piece">Piece<a href="#piece" class="hash-link" aria-label="Direct link to Piece" title="Direct link to Piece">​</a></h3>
<p>The Pieces inside of a Part determines what&#x27;s going to happen, the could be indicating things like VT&#x27;s, cut to cameras, graphics, or what script the host is going to read.</p>
<p>Inside of the pieces are the <a href="#what-is-the-timeline">timeline-objects</a> which controls the playout on a technical level.</p>
<div class="theme-admonition theme-admonition-tip admonition_WCGJ alert alert--success"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_pbrs"><p>Tip! If you want to manually play a certain piece (for example a graphics overlay), you can at any time double-click it in the GUI, and it will be copied and played at your play head, just like an <a href="#adlib-pieces">AdLib</a> would!</p></div></div>
<p>See also: <a href="#system-organization-studio--show-style">Showstyle</a></p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="adlib-piece">AdLib Piece<a href="#adlib-piece" class="hash-link" aria-label="Direct link to AdLib Piece" title="Direct link to AdLib Piece">​</a></h3>
<p>The AdLib pieces are Pieces that isn&#x27;t programmed to fire at a specific time, but instead intended to be manually triggered by the user.</p>
<p>The AdLib pieces can either come from the currently playing Part, or it could be <em>global AdLibs</em> that are available throughout the show.</p>
<p>An AdLib isn&#x27;t added to the Part in the GUI until it starts playing, instead you find it in the <a href="/sofie-core/docs/1.50.0/user-guide/features/sofie-views#shelf">Shelf</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="buckets">Buckets<a href="#buckets" class="hash-link" aria-label="Direct link to Buckets" title="Direct link to Buckets">​</a></h2>
<p>A Bucket is a container for AdLib Pieces created by the producer/operator during production. They exist independently of the Rundowns and associated content created by ingesting data from the NRCS. Users can freely create, modify and remove Buckets.</p>
<p>The primary use-case of these elements is for breaking news formats where quick turnaround video editing may require circumvention of the regular flow of show assets and programming via the NRCS. Currently, one way of creating AdLibs inside Buckets is using a MOS Plugin integration inside the Shelf, where MOS <a href="https://mosprotocol.com/wp-content/MOS-Protocol-Documents/MOS-Protocol-2.8.4-Current.htm#ncsItem" target="_blank" rel="noopener noreferrer">ncsItem</a> elements can be dragged from the MOS Plugin onto a bucket and ingested.</p>
<p>The ingest happens via the <code>getAdlibItem</code> method: <a href="https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L215" target="_blank" rel="noopener noreferrer">https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L215</a></p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="views">Views<a href="#views" class="hash-link" aria-label="Direct link to Views" title="Direct link to Views">​</a></h2>
<p>Being a web-based system, Sofie has a number of customisable, user-facing web <a href="/sofie-core/docs/1.50.0/user-guide/features/sofie-views">views</a> used for control and monitoring.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="blueprints">Blueprints<a href="#blueprints" class="hash-link" aria-label="Direct link to Blueprints" title="Direct link to Blueprints">​</a></h2>
<p>Blueprints are plug-ins that run in Sofie Core. They interpret the data coming in from the rundowns and transform them into a rich set of playable elements (Segments, Parts, AdLibs etc).</p>
<p>The blueprints are webpacked javascript bundles which are uploaded into Sofie via the GUI. They are custom-made and changes depending on the show style, type of input data (NRCS) and the types of controlled devices. A generic <a href="https://github.com/SuperFlyTV/sofie-demo-blueprints" target="_blank" rel="noopener noreferrer">blueprint that works with spreadsheets is available here</a>.</p>
<p>When <a href="#sofie-core">Sofie Core</a> calls upon a Blueprint, it returns a JavaScript object containing methods callable by Sofie Core. These methods will be called by Sofie Core in different situations, depending on the method.<br>
<!-- -->Documentation on these interfaces are available in the <a href="https://www.npmjs.com/package/@sofie-automation/blueprints-integration" target="_blank" rel="noopener noreferrer">Blueprints integration</a> library.</p>
<p>There are 3 types of blueprints, and all 3 must be uploaded into Sofie before the system will work correctly.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="system-blueprints">System Blueprints<a href="#system-blueprints" class="hash-link" aria-label="Direct link to System Blueprints" title="Direct link to System Blueprints">​</a></h3>
<p>Handle things on the <em>System level</em>.<br>
<!-- -->Documentation on the interface to be exposed by the Blueprint:<br>
<a href="https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L75" target="_blank" rel="noopener noreferrer">https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L75</a></p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="studio-blueprints">Studio Blueprints<a href="#studio-blueprints" class="hash-link" aria-label="Direct link to Studio Blueprints" title="Direct link to Studio Blueprints">​</a></h3>
<p>Handle things on the <em>Studio level</em>, like &quot;which showstyle to use for this rundown&quot;.<br>
<!-- -->Documentation on the interface to be exposed by the Blueprint:<br>
<a href="https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L85" target="_blank" rel="noopener noreferrer">https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L85</a></p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="showstyle-blueprints">Showstyle Blueprints<a href="#showstyle-blueprints" class="hash-link" aria-label="Direct link to Showstyle Blueprints" title="Direct link to Showstyle Blueprints">​</a></h3>
<p>Handle things on the <em>Showstyle level</em>, like generating <a href="#baseline"><em>Baseline</em></a>, <em>Segments</em>, <em>Parts, Pieces</em> and <em>Timelines</em> in a rundown.<br>
<!-- -->Documentation on the interface to be exposed by the Blueprint:<br>
<a href="https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L117" target="_blank" rel="noopener noreferrer">https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L117</a></p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="partinstances-and-pieceinstances"><code>PartInstances</code> and <code>PieceInstances</code><a href="#partinstances-and-pieceinstances" class="hash-link" aria-label="Direct link to partinstances-and-pieceinstances" title="Direct link to partinstances-and-pieceinstances">​</a></h2>
<p>In order to be able to facilitate ingesting changes from the NRCS while continuing to provide a stable and predictable playback of the Rundowns, Sofie internally uses a concept of <a href="https://en.wikipedia.org/wiki/Instance_(computer_science)" target="_blank" rel="noopener noreferrer">&quot;instantiation&quot;</a> of key Rundown elements. Before playback of a Part can begin, the Part and it&#x27;s Pieces are copied into an Instance of a Part: a <code>PartInstance</code>. This protects the contents of the <em>Next</em> and <em>On Air</em> part, preventing accidental changes that could surprise the producer/director. This also makes it possible to inspect the &quot;as played&quot; state of the Rundown, independently of the &quot;as planned&quot; state ingested from the NRCS.</p>
<p>The blueprints can optionally allow some changes to the Parts and Pieces to be forwarded onto these <code>PartInstances</code>: <a href="https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L190" target="_blank" rel="noopener noreferrer">https://github.com/nrkno/sofie-core/blob/master/packages/blueprints-integration/src/api.ts#L190</a></p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="timeline">Timeline<a href="#timeline" class="hash-link" aria-label="Direct link to Timeline" title="Direct link to Timeline">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="what-is-the-timeline">What is the timeline?<a href="#what-is-the-timeline" class="hash-link" aria-label="Direct link to What is the timeline?" title="Direct link to What is the timeline?">​</a></h3>
<p>The Timeline is a collection of timeline-objects, that together form a &quot;target state&quot;, i.e. an intent on what is to be played and at what times.</p>
<p>The timeline-objects can be programmed to contain relative references to each other, so programming things like <em>&quot;play this thing right after this other thing&quot;</em> is as easy as <code>{start: { #otherThing.end }}</code></p>
<p>The <a href="/sofie-core/docs/1.50.0/for-developers/libraries">Playout Gateway</a> picks up the timeline from Sofie Core and (using the <a href="https://github.com/nrkno/sofie-timeline-state-resolver" target="_blank" rel="noopener noreferrer">TSR timeline-state-resolver</a>) controls the playout devices to make sure that they actually play what is intended.</p>
<p><img decoding="async" loading="lazy" alt="Example of 2 objects in a timeline: The #video object, destined to play at a certain time, and #gfx0, destined to start 15 seconds into the video." src="/sofie-core/assets/images/timeline-d1a95c05adc953f15adae8a0e3aaaf48.png" width="1039" height="259" class="img_SS3x"></p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="why-a-timeline">Why a timeline?<a href="#why-a-timeline" class="hash-link" aria-label="Direct link to Why a timeline?" title="Direct link to Why a timeline?">​</a></h3>
<p>The Sofie system is made to work with a modern web- and IT-based approach in mind. Therefore, the Sofie Core can be run either on-site, or in an off-site cloud.</p>
<p><img decoding="async" loading="lazy" alt="Sofie Core can run in the cloud" src="/sofie-core/assets/images/sofie-web-architecture-812d04b46362f24b9f1965b7a92078e1.png" width="686" height="209" class="img_SS3x"></p>
<p>One drawback of running in a cloud over the public internet is the - sometimes unpredictable - latency. The Timeline overcomes this by moving all the immediate control of the playout devices to the Playout Gateway, which is intended to run on a local network, close to the hardware it controls.<br>
<!-- -->This also gives the system a simple way of load-balancing - since the number of web-clients or load on Sofie Core won&#x27;t affect the playout.</p>
<p>Another benefit of basing the playout on a timeline is that when programming the show (the blueprints), you only have to care about &quot;what you want to be on screen&quot;, you don&#x27;t have to care about cleaning up previously played things, or what was actually played out before. Those are things that are handled by the Playout Gateway automatically. This also allows the user to jump around in a rundown freely, without the risk of things going wrong on air.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="how-does-it-work">How does it work?<a href="#how-does-it-work" class="hash-link" aria-label="Direct link to How does it work?" title="Direct link to How does it work?">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_WCGJ alert alert--success"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_pbrs"><p>Fun tip! The timeline in itself is a <a href="https://github.com/SuperFlyTV/supertimeline" target="_blank" rel="noopener noreferrer">separate library available on github</a>.</p><p>You can play around with the timeline in the browser using <a href="https://jsfiddle.net/nytamin/rztp517u/" target="_blank" rel="noopener noreferrer">JSFiddle and the timeline-visualizer</a>!</p></div></div>
<p>The Timeline is stored by Sofie Core in a MongoDB collection. It is generated whenever a user does a <a href="#take-point">Take</a>, changes the <a href="#next-point-and-lookahead">Next-point</a> or anything else that might affect the playout.</p>
<p><em>Sofie Core</em> generates the timeline using:</p>
<ul>
<li>The <a href="#baseline">Studio Baseline</a> (only if no rundown is currently active)</li>
<li>The <a href="#baseline">Showstyle Baseline</a>, of the currently active rundown.</li>
<li>The <a href="#take-point">currently playing Part</a></li>
<li>The <a href="#next-point-and-lookahead">Next&#x27;ed Part</a> and Parts that come after it (the <a href="#lookahead">Lookahead</a>)</li>
<li>Any <a href="#adlib-pieces">AdLibs</a> the user has manually selected to play</li>
</ul>
<p>The <a href="/sofie-core/docs/1.50.0/for-developers/libraries#gateways"><strong>Playout Gateway</strong></a> then picks up the new timeline, and pipes it into the <a href="https://github.com/nrkno/sofie-timeline-state-resolver" target="_blank" rel="noopener noreferrer">(TSR) timeline-state-resolver</a> library.</p>
<p>The TSR then...</p>
<ul>
<li>Resolves the timeline, using the <a href="https://github.com/SuperFlyTV/supertimeline" target="_blank" rel="noopener noreferrer">timeline-library</a></li>
<li>Calculates new target-states for each relevant point in time</li>
<li>Maps the target-state to each playout device</li>
<li>Compares the target-states for each device with the currently-tracked-state and..</li>
<li>Generates commands to send to each device to account for the change</li>
<li>The commands are then put on queue and sent to the devices at the correct time</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_WCGJ alert alert--info"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_pbrs"><p>For more information about what playout devices <em>TSR</em> supports, and examples of the timeline-objects, see the <a href="https://github.com/nrkno/sofie-timeline-state-resolver#timeline-state-resolver" target="_blank" rel="noopener noreferrer">README of TSR</a></p></div></div>
<div class="theme-admonition theme-admonition-info admonition_WCGJ alert alert--info"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_pbrs"><p>For more information about how to program timeline-objects, see the <a href="https://github.com/SuperFlyTV/supertimeline#superfly-timeline" target="_blank" rel="noopener noreferrer">README of the timeline-library</a></p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/nrkno/sofie-core/edit/master/packages/documentation/versioned_docs/version-1.50.0/user-guide/concepts-and-architecture.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ydrU"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/sofie-core/docs/1.50.0/user-guide/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sofie-core/docs/1.50.0/user-guide/supported-devices"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Supported Playout Devices</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#system-architecture" class="table-of-contents__link toc-highlight">System Architecture</a><ul><li><a href="#sofie-core" class="table-of-contents__link toc-highlight">Sofie Core</a></li><li><a href="#gateways" class="table-of-contents__link toc-highlight">Gateways</a></li></ul></li><li><a href="#system-organization-studio--show-style" class="table-of-contents__link toc-highlight">System, (Organization), Studio &amp; Show Style</a></li><li><a href="#playlists-rundowns-segments-parts-pieces" class="table-of-contents__link toc-highlight">Playlists, Rundowns, Segments, Parts, Pieces</a><ul><li><a href="#playlist" class="table-of-contents__link toc-highlight">Playlist</a></li><li><a href="#rundown" class="table-of-contents__link toc-highlight">Rundown</a></li><li><a href="#segment" class="table-of-contents__link toc-highlight">Segment</a></li><li><a href="#part" class="table-of-contents__link toc-highlight">Part</a></li><li><a href="#piece" class="table-of-contents__link toc-highlight">Piece</a></li><li><a href="#adlib-piece" class="table-of-contents__link toc-highlight">AdLib Piece</a></li></ul></li><li><a href="#buckets" class="table-of-contents__link toc-highlight">Buckets</a></li><li><a href="#views" class="table-of-contents__link toc-highlight">Views</a></li><li><a href="#blueprints" class="table-of-contents__link toc-highlight">Blueprints</a><ul><li><a href="#system-blueprints" class="table-of-contents__link toc-highlight">System Blueprints</a></li><li><a href="#studio-blueprints" class="table-of-contents__link toc-highlight">Studio Blueprints</a></li><li><a href="#showstyle-blueprints" class="table-of-contents__link toc-highlight">Showstyle Blueprints</a></li></ul></li><li><a href="#partinstances-and-pieceinstances" class="table-of-contents__link toc-highlight"><code>PartInstances</code> and <code>PieceInstances</code></a></li><li><a href="#timeline" class="table-of-contents__link toc-highlight">Timeline</a><ul><li><a href="#what-is-the-timeline" class="table-of-contents__link toc-highlight">What is the timeline?</a></li><li><a href="#why-a-timeline" class="table-of-contents__link toc-highlight">Why a timeline?</a></li><li><a href="#how-does-it-work" class="table-of-contents__link toc-highlight">How does it work?</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="left" href="/sofie-core/docs/user-guide/intro">User Guide</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/sofie-core/docs/for-developers/intro">For Developers</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/sofie-core/releases">Releases</a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/sofietv/shared_invite/zt-2bfz8l9lw-azLeDB55cvN2wvMgqL1alA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sofie Slack Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/sofie-core/docs/about-sofie">About Sofie</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ©2024 Norsk rikskringkasting AS and Contributors</div></div></div></footer></div>
</body>
</html>